#include <iostream>
#include <vector>
using namespace std;

struct Node{
    int data;
    Node* left;
    Node* right;
    Node(int x){ data = x; left = right = NULL; }
};

int search(vector<int>& in, int val){
    for(int i = 0; i < in.size(); i++)
        if(in[i] == val) return i;
    return -1;
}

Node* buildTree(vector<int>& pre, vector<int>& in, int &idx, int l, int r){
    if(l > r) return NULL;

    Node* root = new Node(pre[idx++]);
    int pos = search(in, root->data);

    root->left = buildTree(pre, in, idx, l, pos-1);
    root->right = buildTree(pre, in, idx, pos+1, r);

    return root;
}

int main(){
    vector<int> pre = {1,2,4,5,3};
    vector<int> in  = {4,2,5,1,3};
    int idx = 0;
    Node* root = buildTree(pre,in,idx,0,in.size()-1);

    cout << "Tree constructed.";
}
